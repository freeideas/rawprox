# Untested Req
**Timestamp:** 2025-11-02-13-54-43

---

## Prompt

Please follow these instructions: @./the-system/prompts/WRITE_TEST.md

Create test for requirement:
  $REQ_ID: $REQ_FILE_023
  Flow file: reqs\mcp-dynamic-control.md
  Source: ./readme/LOG_FORMAT.md (Section: "Logging Control Events")
  Requirement text: When logging starts to a directory, emit a `start-logging` event with directory path and filename_format.


---

## Response

Perfect! I've updated the test to verify `$REQ_FILE_023`. The test now:

1. Starts logging to a directory with a filename_format
2. Reads and verifies the `start-logging` event includes:
   - `event: "start-logging"`
   - `directory` path
   - `filename_format` string
3. Also added verification for `$REQ_FILE_024` (stop-logging event for directory)
4. Also added verification for `$REQ_STDOUT_012` (stop-logging event for STDOUT)

## Summary

**Test file:** `./tests/failing/test_mcp_dynamic_control.py`

**Flow being tested:** MCP Dynamic Control (reqs/mcp-dynamic-control.md)

**New requirement covered:** 
- `$REQ_FILE_023`: When logging starts to a directory, emit a `start-logging` event with directory path and filename_format

**Also added coverage for:**
- `$REQ_FILE_024`: Stop logging event for directory
- `$REQ_STDOUT_012`: Stop logging event for STDOUT

**Test approach:** Reorganized the test sequence to start directory logging before stopping STDOUT logging, allowing the test to capture and verify the `start-logging` event that includes the directory path and filename_format fields.

