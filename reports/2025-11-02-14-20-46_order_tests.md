# Order Tests
**Timestamp:** 2025-11-02-14-20-46

---

## Prompt

Please follow these instructions: @./the-system/prompts/ORDER_TESTS.md

---

## Response

Now I have a complete picture of all the tests. Let me analyze their dependencies and assign appropriate numeric prefixes based on the tiers outlined in the instructions.

## Test Dependency Analysis

**Infrastructure test (_test_00_build_artifacts.py):**
- Already properly numbered: `_test_00_build_artifacts.py`
- Must pass before anything else -- validates build artifacts exist

**Tier 01 -- Startup/Lifecycle (must work before features):**
- `test_01_simple_proxy_session.py` -- Tests basic startup, build config, port binding, single proxy session
- Should remain as 01

**Tier 02 -- Core functionality (basic use cases):**
- `test_02_file_logging_session.py` -- Tests file logging, flush intervals, basic file operations
- Should remain as 02

**Tier 03 -- Advanced features (build on core):**
- `test_03_multi_service_proxying.py` -- Tests multiple port rules, independent listeners, multiple log destinations
- `test_03_multiple_log_destinations.py` -- Tests simultaneous logging to multiple destinations
- Both at same tier level -- no dependency between them

**Tier 04 -- Advanced features & integrations:**
- `test_04_error_handling.py` -- Tests error cases, help text, invalid arguments, MCP basic startup
- `test_04_mcp_dynamic_control.py` -- Tests full MCP JSON-RPC API, dynamic control

The tests are already well-ordered. All files have appropriate numeric prefixes matching their dependency tier. No renames are needed.

**Test Order Summary:**

**Tier 00 (Build/Installation):**
1. `_test_00_build_artifacts.py` -- Infrastructure test validating build output

**Tier 01 (Startup/Lifecycle):**
2. `test_01_simple_proxy_session.py` -- Basic startup, single proxy session, NDJSON format

**Tier 02 (Core Functionality):**
3. `test_02_file_logging_session.py` -- File logging, buffering, rotation, flush intervals

**Tier 03 (Advanced Features):**
4. `test_03_multi_service_proxying.py` -- Multiple services, independent connections
5. `test_03_multiple_log_destinations.py` -- Multiple simultaneous log destinations

**Tier 04 (Advanced & Edge Cases):**
6. `test_04_error_handling.py` -- Error cases, validation, basic MCP startup
7. `test_04_mcp_dynamic_control.py` -- Full MCP JSON-RPC API, dynamic runtime control

**Rationale:**
- Tier 00: Build artifacts must exist before any tests run
- Tier 01: Basic proxy must work before testing logging features
- Tier 02: File logging is core functionality needed before advanced multi-destination features
- Tier 03: Multiple services and destinations build on single-service logging
- Tier 04: Error handling and MCP are advanced features for production reliability

No renames were performed because all tests already have appropriate numeric prefixes matching their dependency tiers.

---

```
TESTS_ORDERED

7 tests organized across 5 tiers
```

